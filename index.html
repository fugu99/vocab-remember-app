<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>英単語復習アプリ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; margin: 0; padding: 16px; background: #f5f5f5; color: #333; }
    h1 { font-size: 1.4rem; margin: 10px 0 14px; text-align: center; }
    .card { background: #fff; border-radius: 10px; padding: 12px 16px; margin-bottom: 12px; box-shadow: 0 1px 4px rgba(0,0,0,0.08); }
    label { display: block; font-size: 0.9rem; margin-bottom: 6px; }
    select { width: 100%; padding: 10px; font-size: 1rem; box-sizing: border-box; border-radius: 8px; border: 1px solid #ccc; background: #fff; }
    button { width: 100%; padding: 12px; margin-top: 10px; font-size: 1.05rem; border: none; border-radius: 8px; cursor: pointer; }
    button.primary { background: #1976d2; color: #fff; }
    button.secondary { background: #eee; color: #333; }
    button.correct { background: #2e7d32; color: #fff; }
    button.wrong { background: #c62828; color: #fff; }
    button:disabled { opacity: 0.6; cursor: default; }
    .status, .message { font-size: 0.9rem; color: #555; min-height: 1.4em; margin-top: 6px; }
    .prompt { font-size: 1.35rem; font-weight: 700; text-align: center; margin: 14px 0 10px; word-break: break-word; min-height: 2.2em; }
    .answer { border-top: 1px solid #ddd; padding-top: 10px; margin-top: 10px; display: none; }
    .answer div { margin: 6px 0; word-break: break-word; }
    .mini { font-size: 0.85rem; color: #666; margin-top: 6px; }
    .stats { font-size: 0.95rem; color: #444; margin-top: 8px; }
  </style>
</head>
<body>
  <h1>英単語復習アプリ</h1>

  <div class="card">
    <label>出題方向</label>
    <select id="modeSelect">
      <option value="en-to-meaning">英 → 意味</option>
      <option value="meaning-to-en">意味 → 英</option>
    </select>

    <button class="primary" id="startBtn">セッション開始（覚えてない単語を全部・優先＋ランダム）</button>
    <button class="secondary" id="resetBtn">復習履歴をリセット（この端末のみ）</button>

    <div class="status" id="setupStatus">準備中...</div>

    <div class="stats" id="statsLine">
      憶えた単語（2週間以上）: <b id="learnedCount">0</b> / <span id="totalCount">0</span>
      （<span id="learnedPct">0</span>%）
    </div>

    <div class="mini">ExcelはGitHubにアップロードすると自動で反映されます（data/words.xlsx → words.json）。</div>
  </div>

  <div class="card">
    <div class="status" id="sessionStatus">-</div>
    <div class="prompt" id="prompt"></div>

    <button class="secondary" id="showAnswerBtn" disabled>答えを表示（同時に発音）</button>

    <div class="answer" id="answerBox">
      <div id="answerWord"></div>
      <div id="answerPos"></div>
      <div id="answerPhonetic"></div>
      <div id="answerMeaning"></div>
      <div id="answerExample"></div>
      <div id="answerPosition"></div>
    </div>

    <button class="correct" id="okBtn" disabled>覚えてた</button>
    <button class="wrong" id="ngBtn" disabled>忘れてた</button>

    <div class="message" id="message"></div>
  </div>

  <script src="main.js"></script>
</body>
</html>
